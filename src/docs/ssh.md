**Аутентификация по SSH-протоколу и настройка на GitHub**

SSH (Secure Shell) — это протокол для безопасного доступа к удаленным серверам. В контексте GitHub, SSH позволяет клонировать репозитории и выполнять другие действия без необходимости вводить имя пользователя и пароль каждый раз.

### **Публичный и приватный ключи**

- **Приватный ключ**: хранится на вашем компьютере и должен оставаться конфиденциальным. Он используется для дешифрования сообщений, зашифрованных публичным ключом.
- **Публичный ключ**: этот ключ вы можете свободно распространять. Он размещается на сервере (например, на GitHub) и используется для шифрования сообщений, которые может расшифровать только соответствующий приватный ключ.

### **Как работает SSH-аутентификация**

Когда вы пытаетесь подключиться к серверу, сервер использует ваш публичный ключ для создания зашифрованного сообщения. Ваш компьютер использует приватный ключ для его расшифровки, подтверждая таким образом вашу личность.

---

## **Настройка SSH-ключей для GitHub на Windows 10/11**

**Шаг 1: Установка Git для Windows**

- Скачайте Git с официального сайта: [git-scm.com/download/win](https://git-scm.com/download/win).
- Установите его, следуя инструкциям установщика.

**Шаг 2: Генерация SSH-ключей**

1. **Откройте проводник Windows** и перейдите в папку `C:\Program Files\Git\usr\bin`.
2. Найдите файл **`ssh-keygen.exe`** и дважды щелкните по нему.
3. В открывшемся окне введите команду (или просто нажмите Enter, если окно командной строки уже открыто):

   ```
   ssh-keygen -t ed25519 -C "your_email@example.com"
   ```

   Замените `"your_email@example.com"` на адрес электронной почты, связанный с вашим аккаунтом GitHub.

4. Когда вас спросят о месте сохранения ключа, нажмите **Enter** для сохранения по умолчанию (`C:\Users\YourUserName\.ssh\id_ed25519`).
    - `YourUserName` - будет именем пользователя (ваша текущая учетная запись в Win)
5. Если хотите установить пароль для ключа, введите его. Иначе просто нажмите **Enter** дважды.
    - Рекомендую не устанавливать доп пароль для ключа учебных проектов (лишние сложности)

**Шаг 3: Копирование публичного ключа**

1. **Откройте проводник Windows** и перейдите в папку `C:\Users\YourUserName\.ssh`.
2. Найдите файл **`id_ed25519.pub`**.
3. Откройте файл с помощью **Блокнота** или другого текстового редактора.
4. Скопируйте содержимое файла.

**Шаг 4: Добавление публичного ключа на GitHub**

1. Войдите в свой аккаунт на [GitHub.com](https://github.com).
2. Нажмите на свой аватар в правом верхнем углу и выберите **"Settings"**.
3. В левом меню выберите **"SSH and GPG keys"**.
4. Нажмите **"New SSH key"**.
5. В поле **"Title"** введите название ключа (например, "My Laptop Key").
6. Вставьте скопированный ранее публичный ключ в поле **"Key"**.
7. Нажмите **"Add SSH key"**.

---

## **Настройка SSH-ключей для GitHub на macOS**

**Шаг 1: Генерация SSH-ключей**

1. **Откройте Finder** и перейдите в папку **"Программы"** > **"Утилиты"**.
2. Откройте приложение **"Терминал"**.
3. Введите команду:

   ```
   ssh-keygen -t ed25519 -C "your_email@example.com"
   ```

   Замените `"your_email@example.com"` на ваш адрес электронной почты GitHub.

4. Когда появится запрос на указание пути сохранения, нажмите **Enter** для сохранения по умолчанию (`/Users/YourUserName/.ssh/id_ed25519`).
5. При запросе пароля можете установить его или оставить пустым, нажав **Enter** дважды.

**Шаг 2: Копирование публичного ключа**

1. В **Finder** нажмите **"Переход"** в верхнем меню и выберите **"Перейти к папке..."**.
2. Введите `~/.ssh` и нажмите **Enter**.
3. Найдите файл **`id_ed25519.pub`**.
4. Откройте файл с помощью **TextEdit** или другого текстового редактора.
5. Скопируйте содержимое файла.

**Шаг 3: Добавление публичного ключа на GitHub**

1. Войдите в свой аккаунт на [GitHub.com](https://github.com).
2. Нажмите на свой аватар и выберите **"Settings"**.
3. В левом меню выберите **"SSH and GPG keys"**.
4. Нажмите **"New SSH key"**.
5. Введите название ключа в поле **"Title"**.
6. Вставьте скопированный публичный ключ в поле **"Key"**.
7. Нажмите **"Add SSH key"**.

---

## **Проверка подключения к GitHub**

**Для Windows и macOS:**

1. Откройте **Терминал** (macOS) или **Командную строку** (Windows).
2. Введите команду:

   ```
   ssh -T git@github.com
   ```

3. Если это ваш первый SSH-подключение к GitHub, вас спросят, доверяете ли вы хосту. Введите **"yes"** и нажмите **Enter**.
4. Вы должны увидеть сообщение:

   ```
   Hi username! You've successfully authenticated, but GitHub does not provide shell access.
   ```

Теперь вы настроили SSH-аутентификацию для работы с GitHub. Это упростит взаимодействие с репозиториями и повысит безопасность ваших подключений. Не забывайте хранить приватный ключ в безопасности и не передавать его другим лицам.

___

---

**Использование SSH-ссылки при работе с репозиториями**

Теперь, когда вы настроили SSH-аутентификацию с GitHub, при клонировании репозиториев или связывании локальных репозиториев с удаленными вам необходимо использовать **SSH-ссылку** вместо HTTPS. Это обеспечит использование вашего SSH-ключа для аутентификации, что избавит от необходимости вводить логин и пароль при каждой операции.

### **Как получить SSH-ссылку для репозитория**

1. **Перейдите на страницу нужного репозитория на GitHub.**
2. Нажмите на кнопку **"Code"** (расположена рядом с кнопкой **"Add file"**).
3. В выпадающем меню переключитесь на вкладку **"SSH"**.
4. Скопируйте предоставленную SSH-ссылку, которая будет иметь формат:

   ```
   git@github.com:username/repository.git
   ```

   Замените `username` и `repository` на соответствующие имя пользователя и название репозитория.

### **Клонирование репозитория с использованием SSH**

- **Windows и macOS:**

    1. Откройте **Терминал** (macOS) или **Командную строку** (Windows).
    2. Введите команду:

       ```
       git clone git@github.com:username/repository.git
       ```

       Замените `username` и `repository` на нужные вам значения.

### **Изменение удаленного URL на SSH в существующем репозитории**

Если у вас уже есть локальный репозиторий, связанный по HTTPS, вы можете изменить его на SSH:

1. Проверьте текущий удаленный URL:

   ```
   git remote -v
   ```

2. Измените URL на SSH:

   ```
   git remote set-url origin git@github.com:username/repository.git
   ```

3. Убедитесь, что URL изменился:

   ```
   git remote -v
   ```

Теперь ваш локальный репозиторий будет взаимодействовать с GitHub по SSH-протоколу, используя ваш SSH-ключ для аутентификации.

Использование SSH-ссылок при работе с GitHub обеспечивает более безопасное и удобное взаимодействие с репозиториями. Это устраняет необходимость вводить учетные данные каждый раз и позволяет использовать созданные вами SSH-ключи для аутентификации.
